#!/usr/bin/env bash

# find package name from command name
# Author: Menghan Zheng <menghan412@gmail.com>
# Last update: Sat 24 Apr 2010 02:10:29 PM CST


cmd2package ()
{
	cmd=$1
	cmdinfo=$(type -a $cmd 2>&1 | head -n 1)
	if echo $cmdinfo | grep -q ': not found'; then
		echo "$cmd: command not found"
		return
	fi
	if echo $cmdinfo | grep -q ' is a shell builtin'; then
		echo $cmdinfo
		return
	fi
	path=$(echo $cmdinfo | awk '{print $3}')
	if [ -L $path ]; then
		path=$(readlink -f $path)
	fi
	dpkg -S $path
}


for cmd
do
	cmd2package $cmd
done
